<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        p {
            margin: 0;
        }
    </style>

    <title>express-sse-ts</title>
</head>

<body>
    <h1>express-sse-ts</h1>
    <div id="display"></div>

    <script>
        const display = document.getElementById('display');
        const es = new EventSource('/events'); // Create EventSource

        // Listen to event with name 'message'
        es.onmessage = event => {
            const message = document.createElement('p');
            message.innerHTML = event.data;
            display.prepend(message);
        }

        // Listen to event with name 'eventName'
        es.addEventListener('eventName', event => {
            console.log(event);
        });
    </script>
</body>

</html>